<!--
  ~ Copyright (c) 2021-2024 Bearsampp
  ~ License:  GNU General Public License version 3 or later; see LICENSE.txt
  ~ Author: Bear
  ~ Website: https://bearsampp.com
  ~ Github: https://github.com/Bearsampp
  -->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bearsampp: E:/Bearsampp-development/sandbox/core/libs/winbinder/db/db_common.inc.php File Reference</title>
<link rel="icon" href="../../Bearsampp-orange-logo-for-bearsampp-sandbox-32x32.png" type="image/x-icon" />
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../header-logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Bearsampp<span id="projectnumber">&#160;2024.5.25</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;"
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d9/d92/db__common_8inc_8php.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">db_common.inc.php File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="../../d9/d92/db__common_8inc_8php_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ace8bf9eeee6d4c726079e90a20294368" id="r_ace8bf9eeee6d4c726079e90a20294368"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ace8bf9eeee6d4c726079e90a20294368">db_close_database</a> ()</td></tr>
<tr class="separator:ace8bf9eeee6d4c726079e90a20294368"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab40fe3f70ae6165563ee0ba0b7fa2131" id="r_ab40fe3f70ae6165563ee0ba0b7fa2131"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab40fe3f70ae6165563ee0ba0b7fa2131">db_create_database</a> ($database, $server=&quot;&quot;, $username=&quot;&quot;, $password=&quot;&quot;)</td></tr>
<tr class="separator:ab40fe3f70ae6165563ee0ba0b7fa2131"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af461f77bc6883f94a9fb1689baf7c4d3" id="r_af461f77bc6883f94a9fb1689baf7c4d3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af461f77bc6883f94a9fb1689baf7c4d3">db_create_field</a> ($tablename, $field, $type)</td></tr>
<tr class="separator:af461f77bc6883f94a9fb1689baf7c4d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8833c99dd19a96686010d6186d464f23" id="r_a8833c99dd19a96686010d6186d464f23"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8833c99dd19a96686010d6186d464f23">db_create_record</a> ($tablename, $fieldnames=null, $fieldvalues=null, $idfield=&quot;id&quot;)</td></tr>
<tr class="separator:a8833c99dd19a96686010d6186d464f23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a936f838f8c0e21031350e9354cab55d5" id="r_a936f838f8c0e21031350e9354cab55d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a936f838f8c0e21031350e9354cab55d5">db_create_table</a> ($tablename, $fieldnames, $fieldattrib, $idfield=&quot;id&quot;, $valarray=null)</td></tr>
<tr class="separator:a936f838f8c0e21031350e9354cab55d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a402d0c8c4bfe1ce6fa22b80a38c682" id="r_a1a402d0c8c4bfe1ce6fa22b80a38c682"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1a402d0c8c4bfe1ce6fa22b80a38c682">db_delete_field</a> ($tablename, $field)</td></tr>
<tr class="separator:a1a402d0c8c4bfe1ce6fa22b80a38c682"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae83a69515cbe0c60c6a894fa416860bf" id="r_ae83a69515cbe0c60c6a894fa416860bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae83a69515cbe0c60c6a894fa416860bf">db_delete_records</a> ($tablename, $idarray, $idfield=&quot;id&quot;)</td></tr>
<tr class="separator:ae83a69515cbe0c60c6a894fa416860bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae43cfcea99ecca78b6ef1e1e9c22c8e9" id="r_ae43cfcea99ecca78b6ef1e1e9c22c8e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae43cfcea99ecca78b6ef1e1e9c22c8e9">db_delete_table</a> ($tablename)</td></tr>
<tr class="separator:ae43cfcea99ecca78b6ef1e1e9c22c8e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfa1e7c6bc781d1c447652ae4515a4b3" id="r_adfa1e7c6bc781d1c447652ae4515a4b3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adfa1e7c6bc781d1c447652ae4515a4b3">db_edit_field</a> ($tablename, $field, $type)</td></tr>
<tr class="separator:adfa1e7c6bc781d1c447652ae4515a4b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fceaf1354f4886f8e6d9ce79b9f0ce1" id="r_a3fceaf1354f4886f8e6d9ce79b9f0ce1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3fceaf1354f4886f8e6d9ce79b9f0ce1">db_edit_record</a> ($tablename, $id=0, $fieldnames=null, $fieldvalues=null, $idfield=&quot;id&quot;)</td></tr>
<tr class="separator:a3fceaf1354f4886f8e6d9ce79b9f0ce1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02c13438850f207c9f167715f45a1e24" id="r_a02c13438850f207c9f167715f45a1e24"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a02c13438850f207c9f167715f45a1e24">db_escape_string</a> ($str)</td></tr>
<tr class="separator:a02c13438850f207c9f167715f45a1e24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae530fae07afd2611bf93f712d99dfa95" id="r_ae530fae07afd2611bf93f712d99dfa95"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae530fae07afd2611bf93f712d99dfa95">db_fetch_array</a> ($result, $type=<a class="el" href="../../d4/dae/db__mysql_8inc_8php.html#a7995ec4155465b4e82174c1b9ddc32fc">FETCH_NUM</a>)</td></tr>
<tr class="separator:ae530fae07afd2611bf93f712d99dfa95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60cc7e063480762705dd0f86f9f29f12" id="r_a60cc7e063480762705dd0f86f9f29f12"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a60cc7e063480762705dd0f86f9f29f12">db_free_result</a> ($result)</td></tr>
<tr class="separator:a60cc7e063480762705dd0f86f9f29f12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bd603470b466f5d841634e4f2deb847" id="r_a7bd603470b466f5d841634e4f2deb847"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7bd603470b466f5d841634e4f2deb847">db_get_data</a> ($tablename, $id=null, $col=null, $where=&quot;&quot;, $result_type=<a class="el" href="../../d4/dae/db__mysql_8inc_8php.html#a7995ec4155465b4e82174c1b9ddc32fc">FETCH_NUM</a>, $idfield=&quot;id&quot;, $orderby=&quot;&quot;)</td></tr>
<tr class="separator:a7bd603470b466f5d841634e4f2deb847"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a013284fcfe2e9831d68cd86b793a1d42" id="r_a013284fcfe2e9831d68cd86b793a1d42"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a013284fcfe2e9831d68cd86b793a1d42">db_get_id</a> ($tablename, $index, $idfield=&quot;id&quot;)</td></tr>
<tr class="separator:a013284fcfe2e9831d68cd86b793a1d42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee9b4beb331414bb0a79ff61ce3f9587" id="r_aee9b4beb331414bb0a79ff61ce3f9587"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aee9b4beb331414bb0a79ff61ce3f9587">db_get_index</a> ($tablename, $id, $idfield=&quot;id&quot;)</td></tr>
<tr class="separator:aee9b4beb331414bb0a79ff61ce3f9587"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f1807a54a74acfd3014cc5c6ffb6501" id="r_a3f1807a54a74acfd3014cc5c6ffb6501"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3f1807a54a74acfd3014cc5c6ffb6501">db_get_info</a> ($info=&quot;&quot;)</td></tr>
<tr class="separator:a3f1807a54a74acfd3014cc5c6ffb6501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14c6dea7a68f757bca21db9b70b5454d" id="r_a14c6dea7a68f757bca21db9b70b5454d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a14c6dea7a68f757bca21db9b70b5454d">db_get_next_free_id</a> ($tablename, $idfield=&quot;id&quot;)</td></tr>
<tr class="separator:a14c6dea7a68f757bca21db9b70b5454d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70afff13c59953e72dfeb19af325f03a" id="r_a70afff13c59953e72dfeb19af325f03a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a70afff13c59953e72dfeb19af325f03a">db_list_database_tables</a> ()</td></tr>
<tr class="separator:a70afff13c59953e72dfeb19af325f03a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82a238eba2de474aa1ab173ac10f0f49" id="r_a82a238eba2de474aa1ab173ac10f0f49"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a82a238eba2de474aa1ab173ac10f0f49">db_list_table_fields</a> ($tablename, $type=false)</td></tr>
<tr class="separator:a82a238eba2de474aa1ab173ac10f0f49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab34bbc980945b9c1d7bf58ea21f573ec" id="r_ab34bbc980945b9c1d7bf58ea21f573ec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab34bbc980945b9c1d7bf58ea21f573ec">db_open_database</a> ($database, $server=&quot;&quot;, $username=&quot;&quot;, $password=&quot;&quot;)</td></tr>
<tr class="separator:ab34bbc980945b9c1d7bf58ea21f573ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e096321b86945d128746ac7bedce8f3" id="r_a9e096321b86945d128746ac7bedce8f3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9e096321b86945d128746ac7bedce8f3">db_query</a> ($query)</td></tr>
<tr class="separator:a9e096321b86945d128746ac7bedce8f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1236b83d5ecbebf7a0ff2dac674619e" id="r_ae1236b83d5ecbebf7a0ff2dac674619e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae1236b83d5ecbebf7a0ff2dac674619e">db_rename_field</a> ($tablename, $field, $newname, $type)</td></tr>
<tr class="separator:ae1236b83d5ecbebf7a0ff2dac674619e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15ceb027c54178332d6646e8ab743507" id="r_a15ceb027c54178332d6646e8ab743507"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a15ceb027c54178332d6646e8ab743507">db_rename_table</a> ($tablename, $newname)</td></tr>
<tr class="separator:a15ceb027c54178332d6646e8ab743507"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a111b2e22e83336d81be9c2fae45a8adb" id="r_a111b2e22e83336d81be9c2fae45a8adb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a111b2e22e83336d81be9c2fae45a8adb">db_swap_records</a> ($tablename, $id1, $id2, $idfield=&quot;id&quot;, $xchangeid=true)</td></tr>
<tr class="separator:a111b2e22e83336d81be9c2fae45a8adb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8168daf002dcfa31e047895b2d9505f2" id="r_a8168daf002dcfa31e047895b2d9505f2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8168daf002dcfa31e047895b2d9505f2">db_table_exists</a> ($tablename)</td></tr>
<tr class="separator:a8168daf002dcfa31e047895b2d9505f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1f2cbc875a889e2ec2fc74373e694f8f" id="r_a1f2cbc875a889e2ec2fc74373e694f8f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f2cbc875a889e2ec2fc74373e694f8f">$_mainpath</a> = pathinfo(__FILE__)</td></tr>
<tr class="separator:a1f2cbc875a889e2ec2fc74373e694f8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4862ba1e3cd909f934e9994619613c13" id="r_a4862ba1e3cd909f934e9994619613c13"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4862ba1e3cd909f934e9994619613c13">DB_WRAPVERSION</a> &quot;db_v2b&quot;</td></tr>
<tr class="separator:a4862ba1e3cd909f934e9994619613c13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6d5cdbd7a39e4195cd96a2fbeaf32ef" id="r_ac6d5cdbd7a39e4195cd96a2fbeaf32ef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac6d5cdbd7a39e4195cd96a2fbeaf32ef">if</a> (!defined(&quot;APPPREFIX&quot;)) define(&quot;APPPREFIX&quot;</td></tr>
<tr class="separator:ac6d5cdbd7a39e4195cd96a2fbeaf32ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ace8bf9eeee6d4c726079e90a20294368" name="ace8bf9eeee6d4c726079e90a20294368"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace8bf9eeee6d4c726079e90a20294368">&#9670;&#160;</a></span>db_close_database()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_close_database </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="#ace8bf9eeee6d4c726079e90a20294368">db_close_database()</a></p>
<dl class="section return"><dt>Returns</dt><dd>bool "TRUE" or "FALSE" </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00113">113</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  114</span>{</div>
<div class="line"><span class="lineno">  115</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#a54891cfd8b459865a88a4afa28c98b53">raw_db_close_database</a>();</div>
<div class="line"><span class="lineno">  116</span>}</div>
<div class="ttc" id="adb__mysql_8inc_8php_html_a54891cfd8b459865a88a4afa28c98b53"><div class="ttname"><a href="../../d4/dae/db__mysql_8inc_8php.html#a54891cfd8b459865a88a4afa28c98b53">raw_db_close_database</a></div><div class="ttdeci">raw_db_close_database()</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dae/db__mysql_8inc_8php_source.html#l00127">db_mysql.inc.php:127</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00127">raw_db_close_database()</a>.</p>

</div>
</div>
<a id="ab40fe3f70ae6165563ee0ba0b7fa2131" name="ab40fe3f70ae6165563ee0ba0b7fa2131"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab40fe3f70ae6165563ee0ba0b7fa2131">&#9670;&#160;</a></span>db_create_database()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_create_database </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$database</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$server</em><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$username</em><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$password</em><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="#ab40fe3f70ae6165563ee0ba0b7fa2131">db_create_database()</a> Creates a database if it does not exist</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"></td><td class="paramname">$database</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$server</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$password</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>resource or "FALSE" </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00077">77</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   78</span>{</div>
<div class="line"><span class="lineno">   79</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#a455c37b5ea5adac48c2470d110a5c844">raw_db_create_database</a>($database, $server, $username , $password);</div>
<div class="line"><span class="lineno">   80</span>}</div>
<div class="ttc" id="adb__mysql_8inc_8php_html_a455c37b5ea5adac48c2470d110a5c844"><div class="ttname"><a href="../../d4/dae/db__mysql_8inc_8php.html#a455c37b5ea5adac48c2470d110a5c844">raw_db_create_database</a></div><div class="ttdeci">raw_db_create_database($database, $server=&quot;&quot;, $username=&quot;&quot;, $password=&quot;&quot;)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dae/db__mysql_8inc_8php_source.html#l00080">db_mysql.inc.php:80</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00080">raw_db_create_database()</a>.</p>

</div>
</div>
<a id="af461f77bc6883f94a9fb1689baf7c4d3" name="af461f77bc6883f94a9fb1689baf7c4d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af461f77bc6883f94a9fb1689baf7c4d3">&#9670;&#160;</a></span>db_create_field()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_create_field </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablename</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$field</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$type</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="#af461f77bc6883f94a9fb1689baf7c4d3">db_create_field()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$tablename</td><td></td></tr>
    <tr><td class="paramname">$field</td><td></td></tr>
    <tr><td class="paramname">$type</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool "TRUE" or "FALSE" </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00248">248</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  249</span>{</div>
<div class="line"><span class="lineno">  250</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#a8830a30e6c172d83e056d695c1430385">raw_db_create_field</a>(APPPREFIX . $tablename, $field, $type);</div>
<div class="line"><span class="lineno">  251</span>}</div>
<div class="ttc" id="adb__mysql_8inc_8php_html_a8830a30e6c172d83e056d695c1430385"><div class="ttname"><a href="../../d4/dae/db__mysql_8inc_8php.html#a8830a30e6c172d83e056d695c1430385">raw_db_create_field</a></div><div class="ttdeci">raw_db_create_field($tablename, $field, $type)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dae/db__mysql_8inc_8php_source.html#l00201">db_mysql.inc.php:201</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00201">raw_db_create_field()</a>.</p>

</div>
</div>
<a id="a8833c99dd19a96686010d6186d464f23" name="a8833c99dd19a96686010d6186d464f23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8833c99dd19a96686010d6186d464f23">&#9670;&#160;</a></span>db_create_record()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_create_record </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablename</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldnames</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldvalues</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$idfield</em><span class="paramdefsep"> = </span><span class="paramdefval">&quot;id&quot;</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="#a8833c99dd19a96686010d6186d464f23">db_create_record()</a></p>
<p>Insert a new record in table $tablename.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"></td><td class="paramname">$tablename</td><td>Table name. If NULL uses the table used in last function call. </td></tr>
    <tr><td class="paramtype">unknown</td><td class="paramname">$fieldnames</td><td>Array or CSV string with field names, one per line. </td></tr>
    <tr><td class="paramtype">unknown</td><td class="paramname">$fieldvalues</td><td>Array or CSV string with field values, one per line. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$idfield</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>id of the affected record, FALSE if not succeded </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00304">304</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  305</span>{</div>
<div class="line"><span class="lineno">  306</span>  global $g_lasttable;</div>
<div class="line"><span class="lineno">  307</span> </div>
<div class="line"><span class="lineno">  308</span>  <span class="keywordflow">if</span> (!$tablename)</div>
<div class="line"><span class="lineno">  309</span>    $tablename = $g_lasttable;</div>
<div class="line"><span class="lineno">  310</span>  $g_lasttable = $tablename;</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span>    <span class="keywordflow">if</span> (!$fieldnames) {</div>
<div class="line"><span class="lineno">  313</span>      $fieldnames = <a class="code hl_function" href="#a82a238eba2de474aa1ab173ac10f0f49">db_list_table_fields</a>($tablename);</div>
<div class="line"><span class="lineno">  314</span>      array_shift($fieldnames);</div>
<div class="line"><span class="lineno">  315</span>    }</div>
<div class="line"><span class="lineno">  316</span>    <span class="keywordflow">if</span> (!$fieldvalues) {</div>
<div class="line"><span class="lineno">  317</span>      $fieldvalues = array_fill(0, count($fieldnames), 0);</div>
<div class="line"><span class="lineno">  318</span> </div>
<div class="line"><span class="lineno">  319</span>    }</div>
<div class="line"><span class="lineno">  320</span>  <span class="comment">// Get next available index</span></div>
<div class="line"><span class="lineno">  321</span>  $sql = <span class="stringliteral">&quot;SELECT max($idfield) FROM &quot;</span> . APPPREFIX . $tablename;</div>
<div class="line"><span class="lineno">  322</span>  <a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a> = <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#ae7ee32fcd3c828f30353bf217fad9b45">raw_db_query</a>($sql);</div>
<div class="line"><span class="lineno">  323</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a> === <span class="keyword">false</span>) {</div>
<div class="line"><span class="lineno">  324</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  325</span>  }</div>
<div class="line"><span class="lineno">  326</span>  $newid = (<a class="code hl_function" href="#ae530fae07afd2611bf93f712d99dfa95">db_fetch_array</a>(<a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>, <a class="code hl_variable" href="../../d4/dae/db__mysql_8inc_8php.html#a7995ec4155465b4e82174c1b9ddc32fc">FETCH_NUM</a>)) ;</div>
<div class="line"><span class="lineno">  327</span>  $newid = $newid[0] + 1;</div>
<div class="line"><span class="lineno">  328</span>  <span class="comment">// Build the two arrays</span></div>
<div class="line"><span class="lineno">  329</span>  $names = is_string($fieldnames) ? preg_split(<span class="stringliteral">&quot;/[\r\n]/&quot;</span>, $fieldnames) : $fieldnames;</div>
<div class="line"><span class="lineno">  330</span>  $values = is_string($fieldvalues) ? preg_split(<span class="stringliteral">&quot;/[\r\n]/&quot;</span>, $fieldvalues) : $fieldvalues;</div>
<div class="line"><span class="lineno">  331</span>  <span class="keywordflow">if</span> (count($names) != count($values)) {</div>
<div class="line"><span class="lineno">  332</span>    trigger_error(__FUNCTION__ . <span class="stringliteral">&quot;: both arrays must be same length.\n&quot;</span>);</div>
<div class="line"><span class="lineno">  333</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  334</span>  }</div>
<div class="line"><span class="lineno">  335</span>  <span class="comment">// Build the SQL query</span></div>
<div class="line"><span class="lineno">  336</span>  $nfields = count($names);</div>
<div class="line"><span class="lineno">  337</span>  $fieldnames = $names;</div>
<div class="line"><span class="lineno">  338</span>  $fieldvalues = $values;</div>
<div class="line"><span class="lineno">  339</span>  <span class="keywordflow">for</span>($i = 0, $names = <span class="stringliteral">&quot;&quot;</span>; $i &lt; $nfields; $i++)</div>
<div class="line"><span class="lineno">  340</span>  $names .= $fieldnames[$i] . ($i &lt; $nfields - 1 ? <span class="stringliteral">&quot;, &quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  341</span>  <span class="keywordflow">for</span>($i = 0, $values = <span class="stringliteral">&quot;&quot;</span>; $i &lt; $nfields; $i++)</div>
<div class="line"><span class="lineno">  342</span>  $values .= <span class="stringliteral">&quot;&#39;&quot;</span> . <a class="code hl_function" href="#a02c13438850f207c9f167715f45a1e24">db_escape_string</a>($fieldvalues[$i]) . <span class="stringliteral">&quot;&#39;&quot;</span> . ($i &lt; $nfields - 1 ? <span class="stringliteral">&quot;, &quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  343</span> </div>
<div class="line"><span class="lineno">  344</span>  $sql = <span class="stringliteral">&quot;INSERT INTO &quot;</span> . APPPREFIX . $tablename . <span class="stringliteral">&quot; ($idfield, $names) VALUES ($newid, $values)&quot;</span>;</div>
<div class="line"><span class="lineno">  345</span> </div>
<div class="line"><span class="lineno">  346</span>  <a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a> = <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#ae7ee32fcd3c828f30353bf217fad9b45">raw_db_query</a>($sql);</div>
<div class="line"><span class="lineno">  347</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>) {</div>
<div class="line"><span class="lineno">  348</span>    trigger_error(__FUNCTION__ . <span class="stringliteral">&quot;: could not create new record in table $tablename.&quot;</span>);</div>
<div class="line"><span class="lineno">  349</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  350</span>  }</div>
<div class="line"><span class="lineno">  351</span>  <span class="keywordflow">return</span> $newid;</div>
<div class="line"><span class="lineno">  352</span>}</div>
<div class="ttc" id="aajax_8apache_8php_html_a112ef069ddc0454086e3d1e6d8d55d07"><div class="ttname"><a href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a></div><div class="ttdeci">$result</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d44/ajax_8apache_8php_source.html#l00014">ajax.apache.php:14</a></div></div>
<div class="ttc" id="adb__common_8inc_8php_html_a02c13438850f207c9f167715f45a1e24"><div class="ttname"><a href="#a02c13438850f207c9f167715f45a1e24">db_escape_string</a></div><div class="ttdeci">db_escape_string($str)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d92/db__common_8inc_8php_source.html#l00732">db_common.inc.php:732</a></div></div>
<div class="ttc" id="adb__common_8inc_8php_html_a82a238eba2de474aa1ab173ac10f0f49"><div class="ttname"><a href="#a82a238eba2de474aa1ab173ac10f0f49">db_list_table_fields</a></div><div class="ttdeci">db_list_table_fields($tablename, $type=false)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d92/db__common_8inc_8php_source.html#l00228">db_common.inc.php:228</a></div></div>
<div class="ttc" id="adb__common_8inc_8php_html_ae530fae07afd2611bf93f712d99dfa95"><div class="ttname"><a href="#ae530fae07afd2611bf93f712d99dfa95">db_fetch_array</a></div><div class="ttdeci">db_fetch_array($result, $type=FETCH_NUM)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d92/db__common_8inc_8php_source.html#l00705">db_common.inc.php:705</a></div></div>
<div class="ttc" id="adb__mysql_8inc_8php_html_a7995ec4155465b4e82174c1b9ddc32fc"><div class="ttname"><a href="../../d4/dae/db__mysql_8inc_8php.html#a7995ec4155465b4e82174c1b9ddc32fc">FETCH_NUM</a></div><div class="ttdeci">const FETCH_NUM</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dae/db__mysql_8inc_8php_source.html#l00023">db_mysql.inc.php:23</a></div></div>
<div class="ttc" id="adb__mysql_8inc_8php_html_ae7ee32fcd3c828f30353bf217fad9b45"><div class="ttname"><a href="../../d4/dae/db__mysql_8inc_8php.html#ae7ee32fcd3c828f30353bf217fad9b45">raw_db_query</a></div><div class="ttdeci">raw_db_query($query)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dae/db__mysql_8inc_8php_source.html#l00282">db_mysql.inc.php:282</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d44/ajax_8apache_8php_source.html#l00014">$result</a>, <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00732">db_escape_string()</a>, <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00705">db_fetch_array()</a>, <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00228">db_list_table_fields()</a>, <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00023">FETCH_NUM</a>, and <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00282">raw_db_query()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00144">db_create_table()</a>, and <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00400">db_edit_record()</a>.</p>

</div>
</div>
<a id="a936f838f8c0e21031350e9354cab55d5" name="a936f838f8c0e21031350e9354cab55d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a936f838f8c0e21031350e9354cab55d5">&#9670;&#160;</a></span>db_create_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_create_table </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablename</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldnames</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldattrib</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$idfield</em><span class="paramdefsep"> = </span><span class="paramdefval">&quot;id&quot;</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$valarray</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="#a936f838f8c0e21031350e9354cab55d5">db_create_table()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"></td><td class="paramname">$tablename</td><td></td></tr>
    <tr><td class="paramtype"></td><td class="paramname">$fieldnames</td><td>( beside "id" ) </td></tr>
    <tr><td class="paramtype"></td><td class="paramname">$fieldattrib</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$idfield</td><td>( set to "id" ) </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$valarray</td><td>( $valarray[0] = 1.record, $valarray[1] = 2.record, ... ) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool "TRUE" or "FALSE" if Table already exists, could not create Table, could not create Records </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00144">144</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  145</span>{</div>
<div class="line"><span class="lineno">  146</span>  global $g_lasttable;</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>  <span class="keywordflow">if</span> ($tablename == <span class="keyword">null</span> || $tablename == <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  149</span>    $tablename = $g_lasttable;</div>
<div class="line"><span class="lineno">  150</span>  $g_lasttable = $tablename;</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="#a8168daf002dcfa31e047895b2d9505f2">db_table_exists</a>($tablename))</div>
<div class="line"><span class="lineno">  153</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  154</span> </div>
<div class="line"><span class="lineno">  155</span>  <span class="keywordflow">if</span> (is_string($fieldnames))</div>
<div class="line"><span class="lineno">  156</span>    $fieldnames = preg_split(<span class="stringliteral">&quot;/[\r\n,]/&quot;</span>, $fieldnames);</div>
<div class="line"><span class="lineno">  157</span>  <span class="keywordflow">if</span> (is_string($fieldattrib))</div>
<div class="line"><span class="lineno">  158</span>    $fieldattrib = preg_split(<span class="stringliteral">&quot;/[\r\n,]/&quot;</span>, $fieldattrib);</div>
<div class="line"><span class="lineno">  159</span>  $attribs = count($fieldattrib);</div>
<div class="line"><span class="lineno">  160</span>  <span class="keywordflow">if</span> (count($fieldnames) != $attribs) {</div>
<div class="line"><span class="lineno">  161</span>    trigger_error(__FUNCTION__ . <span class="stringliteral">&quot;: both arrays must be same length.&quot;</span>);</div>
<div class="line"><span class="lineno">  162</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  163</span>  }</div>
<div class="line"><span class="lineno">  164</span>  $sql = <span class="stringliteral">&quot;CREATE TABLE &quot;</span> . APPPREFIX . <span class="stringliteral">&quot;$tablename (&quot;</span>;</div>
<div class="line"><span class="lineno">  165</span>  $sql .= <span class="stringliteral">&quot;$idfield int(11) NOT NULL PRIMARY KEY &quot;</span>;</div>
<div class="line"><span class="lineno">  166</span>  <span class="keywordflow">if</span> ($attribs != 0) {</div>
<div class="line"><span class="lineno">  167</span>    $sql .= <span class="stringliteral">&quot;, &quot;</span>;</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>    <span class="keywordflow">for</span>($i = 0; $i &lt; $attribs; $i++)</div>
<div class="line"><span class="lineno">  170</span>    $sql .= $fieldnames[$i] . <span class="stringliteral">&quot; &quot;</span> . $fieldattrib[$i] . ($i &lt; $attribs - 1 ? <span class="stringliteral">&quot;, &quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  171</span>  }</div>
<div class="line"><span class="lineno">  172</span>  $sql .= <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><span class="lineno">  173</span>  <span class="comment">// Send the sql command</span></div>
<div class="line"><span class="lineno">  174</span>  <a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a> = <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#ae7ee32fcd3c828f30353bf217fad9b45">raw_db_query</a>($sql);</div>
<div class="line"><span class="lineno">  175</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>) {</div>
<div class="line"><span class="lineno">  176</span>    trigger_error(__FUNCTION__ . <span class="stringliteral">&quot;: could not create table $tablename.&quot;</span>);</div>
<div class="line"><span class="lineno">  177</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  178</span>  }</div>
<div class="line"><span class="lineno">  179</span> </div>
<div class="line"><span class="lineno">  180</span>  <span class="keywordflow">if</span> ($valarray)</div>
<div class="line"><span class="lineno">  181</span>    <span class="keywordflow">foreach</span>($valarray as $values) {</div>
<div class="line"><span class="lineno">  182</span>    <a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a> = <a class="code hl_function" href="#a8833c99dd19a96686010d6186d464f23">db_create_record</a>($tablename, $fieldnames, $values, $idfield);</div>
<div class="line"><span class="lineno">  183</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a> === <span class="keyword">false</span>) {</div>
<div class="line"><span class="lineno">  184</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  185</span>    }</div>
<div class="line"><span class="lineno">  186</span>  }</div>
<div class="line"><span class="lineno">  187</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>;</div>
<div class="line"><span class="lineno">  188</span>}</div>
<div class="ttc" id="adb__common_8inc_8php_html_a8168daf002dcfa31e047895b2d9505f2"><div class="ttname"><a href="#a8168daf002dcfa31e047895b2d9505f2">db_table_exists</a></div><div class="ttdeci">db_table_exists($tablename)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d92/db__common_8inc_8php_source.html#l00124">db_common.inc.php:124</a></div></div>
<div class="ttc" id="adb__common_8inc_8php_html_a8833c99dd19a96686010d6186d464f23"><div class="ttname"><a href="#a8833c99dd19a96686010d6186d464f23">db_create_record</a></div><div class="ttdeci">db_create_record($tablename, $fieldnames=null, $fieldvalues=null, $idfield=&quot;id&quot;)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d92/db__common_8inc_8php_source.html#l00304">db_common.inc.php:304</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d44/ajax_8apache_8php_source.html#l00014">$result</a>, <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00304">db_create_record()</a>, <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00124">db_table_exists()</a>, and <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00282">raw_db_query()</a>.</p>

</div>
</div>
<a id="a1a402d0c8c4bfe1ce6fa22b80a38c682" name="a1a402d0c8c4bfe1ce6fa22b80a38c682"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a402d0c8c4bfe1ce6fa22b80a38c682">&#9670;&#160;</a></span>db_delete_field()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_delete_field </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablename</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$field</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="#a1a402d0c8c4bfe1ce6fa22b80a38c682">db_delete_field()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$tablename</td><td></td></tr>
    <tr><td class="paramname">$field</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool "TRUE" or "FALSE" </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00260">260</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  261</span>{</div>
<div class="line"><span class="lineno">  262</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#a479dd493b8d56b4da99e67c6deabe6f0">raw_db_delete_field</a>(APPPREFIX . $tablename, $field);</div>
<div class="line"><span class="lineno">  263</span>}</div>
<div class="ttc" id="adb__mysql_8inc_8php_html_a479dd493b8d56b4da99e67c6deabe6f0"><div class="ttname"><a href="../../d4/dae/db__mysql_8inc_8php.html#a479dd493b8d56b4da99e67c6deabe6f0">raw_db_delete_field</a></div><div class="ttdeci">raw_db_delete_field($tablename, $field)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dae/db__mysql_8inc_8php_source.html#l00220">db_mysql.inc.php:220</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00220">raw_db_delete_field()</a>.</p>

</div>
</div>
<a id="ae83a69515cbe0c60c6a894fa416860bf" name="ae83a69515cbe0c60c6a894fa416860bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae83a69515cbe0c60c6a894fa416860bf">&#9670;&#160;</a></span>db_delete_records()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_delete_records </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablename</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$idarray</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$idfield</em><span class="paramdefsep"> = </span><span class="paramdefval">&quot;id&quot;</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="#ae83a69515cbe0c60c6a894fa416860bf">db_delete_records()</a></p>
<p>Delete record from table $tablename.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$tablename</td><td></td></tr>
    <tr><td class="paramname">$idarray</td><td>the id or id array </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool "TRUE" or "FALSE" </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00363">363</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  364</span>{</div>
<div class="line"><span class="lineno">  365</span>  global $g_lasttable;</div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span>  <span class="keywordflow">if</span> ($idarray == <span class="keyword">null</span> || $idarray &lt;= 0)</div>
<div class="line"><span class="lineno">  368</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  369</span>  <span class="keywordflow">if</span> (!is_array($idarray))</div>
<div class="line"><span class="lineno">  370</span>    $idarray = array($idarray);</div>
<div class="line"><span class="lineno">  371</span> </div>
<div class="line"><span class="lineno">  372</span>  <span class="keywordflow">if</span> (!$tablename)</div>
<div class="line"><span class="lineno">  373</span>    $tablename = $g_lasttable;</div>
<div class="line"><span class="lineno">  374</span>  $g_lasttable = $tablename;</div>
<div class="line"><span class="lineno">  375</span> </div>
<div class="line"><span class="lineno">  376</span>  <span class="keywordflow">foreach</span>($idarray as $item) {</div>
<div class="line"><span class="lineno">  377</span>    <span class="comment">// Send the SQL command</span></div>
<div class="line"><span class="lineno">  378</span>    $sql = <span class="stringliteral">&quot;DELETE FROM &quot;</span> . APPPREFIX . $tablename . <span class="stringliteral">&quot; WHERE $idfield = &quot;</span> . $item;</div>
<div class="line"><span class="lineno">  379</span>    <a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a> = <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#ae7ee32fcd3c828f30353bf217fad9b45">raw_db_query</a>($sql);</div>
<div class="line"><span class="lineno">  380</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>) {</div>
<div class="line"><span class="lineno">  381</span>      trigger_error(__FUNCTION__ . <span class="stringliteral">&quot;: could not delete record $id in table $tablename.&quot;</span>);</div>
<div class="line"><span class="lineno">  382</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  383</span>    }</div>
<div class="line"><span class="lineno">  384</span>  }</div>
<div class="line"><span class="lineno">  385</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  386</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d44/ajax_8apache_8php_source.html#l00014">$result</a>, and <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00282">raw_db_query()</a>.</p>

</div>
</div>
<a id="ae43cfcea99ecca78b6ef1e1e9c22c8e9" name="ae43cfcea99ecca78b6ef1e1e9c22c8e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae43cfcea99ecca78b6ef1e1e9c22c8e9">&#9670;&#160;</a></span>db_delete_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_delete_table </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablename</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="#ae43cfcea99ecca78b6ef1e1e9c22c8e9">db_delete_table()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$tablename</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool "TRUE" or "FALSE" </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00196">196</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  197</span>{</div>
<div class="line"><span class="lineno">  198</span>  global $g_lasttable;</div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span>  <span class="keywordflow">if</span> (!$tablename)</div>
<div class="line"><span class="lineno">  201</span>    $tablename = $g_lasttable;</div>
<div class="line"><span class="lineno">  202</span>  $g_lasttable = $tablename;</div>
<div class="line"><span class="lineno">  203</span> </div>
<div class="line"><span class="lineno">  204</span>  <span class="keywordflow">if</span> ($tablename == <span class="keyword">null</span> || $tablename == <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  205</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  206</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="#a8168daf002dcfa31e047895b2d9505f2">db_table_exists</a>($tablename))</div>
<div class="line"><span class="lineno">  207</span>    <a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a> = <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#ae7ee32fcd3c828f30353bf217fad9b45">raw_db_query</a>(<span class="stringliteral">&quot;DROP table &quot;</span> . APPPREFIX . $tablename);</div>
<div class="line"><span class="lineno">  208</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>;</div>
<div class="line"><span class="lineno">  209</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d44/ajax_8apache_8php_source.html#l00014">$result</a>, <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00124">db_table_exists()</a>, and <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00282">raw_db_query()</a>.</p>

</div>
</div>
<a id="adfa1e7c6bc781d1c447652ae4515a4b3" name="adfa1e7c6bc781d1c447652ae4515a4b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfa1e7c6bc781d1c447652ae4515a4b3">&#9670;&#160;</a></span>db_edit_field()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_edit_field </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablename</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$field</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$type</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="#adfa1e7c6bc781d1c447652ae4515a4b3">db_edit_field()</a> edit field attribute</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$tablename</td><td></td></tr>
    <tr><td class="paramname">$field</td><td></td></tr>
    <tr><td class="paramname">$type</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool "TRUE" or "FALSE" </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00288">288</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  289</span>{</div>
<div class="line"><span class="lineno">  290</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#a247a7a72746c7336fbecb92437663f5c">raw_db_edit_field</a>(APPPREFIX . $tablename, $field, $type);</div>
<div class="line"><span class="lineno">  291</span>}</div>
<div class="ttc" id="adb__mysql_8inc_8php_html_a247a7a72746c7336fbecb92437663f5c"><div class="ttname"><a href="../../d4/dae/db__mysql_8inc_8php.html#a247a7a72746c7336fbecb92437663f5c">raw_db_edit_field</a></div><div class="ttdeci">raw_db_edit_field($tablename, $field, $type)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dae/db__mysql_8inc_8php_source.html#l00261">db_mysql.inc.php:261</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00261">raw_db_edit_field()</a>.</p>

</div>
</div>
<a id="a3fceaf1354f4886f8e6d9ce79b9f0ce1" name="a3fceaf1354f4886f8e6d9ce79b9f0ce1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fceaf1354f4886f8e6d9ce79b9f0ce1">&#9670;&#160;</a></span>db_edit_record()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_edit_record </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablename</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$id</em><span class="paramdefsep"> = </span><span class="paramdefval">0</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldnames</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$fieldvalues</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$idfield</em><span class="paramdefsep"> = </span><span class="paramdefval">&quot;id&quot;</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="#a3fceaf1354f4886f8e6d9ce79b9f0ce1">db_edit_record()</a></p>
<p>Edits a record from table $tablename. If $id is null, zero or &lt; 0, inserts a new record.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"></td><td class="paramname">$tablename</td><td>If NULL uses the table used in last function call. </td></tr>
    <tr><td class="paramtype">integer</td><td class="paramname">$id</td><td></td></tr>
    <tr><td class="paramtype">unknown</td><td class="paramname">$fieldnames</td><td>Array or CSV string with field names, one per line. If NULL, affects all fields. </td></tr>
    <tr><td class="paramtype">unknown</td><td class="paramname">$fieldvalues</td><td>Array or CSV string with field values, one per line. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$idfield</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>id of the affected record or FALSE on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00400">400</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  401</span>{</div>
<div class="line"><span class="lineno">  402</span>  global $g_lasttable;</div>
<div class="line"><span class="lineno">  403</span> </div>
<div class="line"><span class="lineno">  404</span>  <span class="keywordflow">if</span> ($id == <span class="keyword">null</span> || $id &lt;= 0) { <span class="comment">// Create a new record</span></div>
<div class="line"><span class="lineno">  405</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="#a8833c99dd19a96686010d6186d464f23">db_create_record</a>($tablename, $fieldnames, $fieldvalues, $idfield);</div>
<div class="line"><span class="lineno">  406</span>  } <span class="keywordflow">else</span> { <span class="comment">// Edit existing record</span></div>
<div class="line"><span class="lineno">  407</span>    <span class="keywordflow">if</span> (!$tablename)</div>
<div class="line"><span class="lineno">  408</span>      $tablename = $g_lasttable;</div>
<div class="line"><span class="lineno">  409</span>    $g_lasttable = $tablename;</div>
<div class="line"><span class="lineno">  410</span>    <span class="comment">// Build the two arrays</span></div>
<div class="line"><span class="lineno">  411</span>    <span class="keywordflow">if</span> (!$fieldnames) {</div>
<div class="line"><span class="lineno">  412</span>      $fieldnames = <a class="code hl_function" href="#a82a238eba2de474aa1ab173ac10f0f49">db_list_table_fields</a>($tablename);</div>
<div class="line"><span class="lineno">  413</span>      array_shift($fieldnames);</div>
<div class="line"><span class="lineno">  414</span>    }</div>
<div class="line"><span class="lineno">  415</span>    <span class="keywordflow">if</span> (!$fieldvalues) {</div>
<div class="line"><span class="lineno">  416</span>      $fieldvalues = array_fill(0, count($fieldnames), 0);</div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>    }</div>
<div class="line"><span class="lineno">  419</span> </div>
<div class="line"><span class="lineno">  420</span>    $names = is_string($fieldnames) ? preg_split(<span class="stringliteral">&quot;/[\r\n]/&quot;</span>, $fieldnames) : $fieldnames;</div>
<div class="line"><span class="lineno">  421</span>    $values = is_string($fieldvalues) ? preg_split(<span class="stringliteral">&quot;/[\r\n]/&quot;</span>, $fieldvalues) : $fieldvalues;</div>
<div class="line"><span class="lineno">  422</span> </div>
<div class="line"><span class="lineno">  423</span>    <span class="keywordflow">if</span> (count($names) != count($values)) {</div>
<div class="line"><span class="lineno">  424</span>      trigger_error(__FUNCTION__ . <span class="stringliteral">&quot;: both arrays must be same length.\n&quot;</span>);</div>
<div class="line"><span class="lineno">  425</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  426</span>    }</div>
<div class="line"><span class="lineno">  427</span>    <span class="comment">// Build the SQL query</span></div>
<div class="line"><span class="lineno">  428</span>    $nfields = count($names);</div>
<div class="line"><span class="lineno">  429</span>    <span class="keywordflow">for</span>($i = 0, $str = <span class="stringliteral">&quot;&quot;</span>; $i &lt; $nfields; $i++) {</div>
<div class="line"><span class="lineno">  430</span>      $str .= $names[$i] . <span class="stringliteral">&quot;=&#39;&quot;</span> . <a class="code hl_function" href="#a02c13438850f207c9f167715f45a1e24">db_escape_string</a>($values[$i]) . <span class="stringliteral">&quot;&#39;&quot;</span> .</div>
<div class="line"><span class="lineno">  431</span>      ($i &lt; $nfields - 1 ? <span class="stringliteral">&quot;, &quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  432</span>    }</div>
<div class="line"><span class="lineno">  433</span> </div>
<div class="line"><span class="lineno">  434</span>    $sql = <span class="stringliteral">&quot;UPDATE &quot;</span> . APPPREFIX . <span class="stringliteral">&quot;$tablename SET $str WHERE $idfield=$id&quot;</span>;</div>
<div class="line"><span class="lineno">  435</span>    <span class="comment">// Send the SQL command</span></div>
<div class="line"><span class="lineno">  436</span>    <a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a> = <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#ae7ee32fcd3c828f30353bf217fad9b45">raw_db_query</a>($sql);</div>
<div class="line"><span class="lineno">  437</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>) {</div>
<div class="line"><span class="lineno">  438</span>      trigger_error(__FUNCTION__ . <span class="stringliteral">&quot;: could not edit record $id in table $tablename.&quot;</span>);</div>
<div class="line"><span class="lineno">  439</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  440</span>    }</div>
<div class="line"><span class="lineno">  441</span>    <span class="keywordflow">return</span> $id;</div>
<div class="line"><span class="lineno">  442</span>  }</div>
<div class="line"><span class="lineno">  443</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d44/ajax_8apache_8php_source.html#l00014">$result</a>, <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00304">db_create_record()</a>, <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00732">db_escape_string()</a>, <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00228">db_list_table_fields()</a>, and <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00282">raw_db_query()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00457">db_swap_records()</a>.</p>

</div>
</div>
<a id="a02c13438850f207c9f167715f45a1e24" name="a02c13438850f207c9f167715f45a1e24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02c13438850f207c9f167715f45a1e24">&#9670;&#160;</a></span>db_escape_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_escape_string </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$str</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="#a02c13438850f207c9f167715f45a1e24">db_escape_string()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$str</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string escaped </dd></dl>
<p>string mysql_real_escape_string ( string unescaped_string [, resource link_identifier])</p>

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00732">732</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  733</span>{</div>
<div class="line"><span class="lineno">  738</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#afbf6f8a232d3956e031307bade08d786">raw_db_escape_string</a>($str);</div>
<div class="line"><span class="lineno">  739</span>}</div>
<div class="ttc" id="adb__mysql_8inc_8php_html_afbf6f8a232d3956e031307bade08d786"><div class="ttname"><a href="../../d4/dae/db__mysql_8inc_8php.html#afbf6f8a232d3956e031307bade08d786">raw_db_escape_string</a></div><div class="ttdeci">raw_db_escape_string($str)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dae/db__mysql_8inc_8php_source.html#l00318">db_mysql.inc.php:318</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00318">raw_db_escape_string()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00304">db_create_record()</a>, and <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00400">db_edit_record()</a>.</p>

</div>
</div>
<a id="ae530fae07afd2611bf93f712d99dfa95" name="ae530fae07afd2611bf93f712d99dfa95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae530fae07afd2611bf93f712d99dfa95">&#9670;&#160;</a></span>db_fetch_array()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_fetch_array </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$result</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$type</em><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="../../d4/dae/db__mysql_8inc_8php.html#a7995ec4155465b4e82174c1b9ddc32fc">FETCH_NUM</a></span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="#ae530fae07afd2611bf93f712d99dfa95">db_fetch_array()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$result</td><td></td></tr>
    <tr><td class="paramname">$type</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array </dd></dl>
<p>array mysql_fetch_array ( resource result [, int result_type]) int type MYSQL_ASSOC, MYSQL_NUM ( == fetch_row), and MYSQL_BOTH</p>

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00705">705</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  706</span>{</div>
<div class="line"><span class="lineno">  712</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#aab90de61690f8cff6faef90d221daa38">raw_db_fetch_array</a>(<a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>, $type);</div>
<div class="line"><span class="lineno">  713</span>}</div>
<div class="ttc" id="adb__mysql_8inc_8php_html_aab90de61690f8cff6faef90d221daa38"><div class="ttname"><a href="../../d4/dae/db__mysql_8inc_8php.html#aab90de61690f8cff6faef90d221daa38">raw_db_fetch_array</a></div><div class="ttdeci">raw_db_fetch_array($result, $type=FETCH_BOTH)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dae/db__mysql_8inc_8php_source.html#l00296">db_mysql.inc.php:296</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d44/ajax_8apache_8php_source.html#l00014">$result</a>, and <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00296">raw_db_fetch_array()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00304">db_create_record()</a>, <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00535">db_get_data()</a>, <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00629">db_get_id()</a>, <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00667">db_get_next_free_id()</a>, <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00457">db_swap_records()</a>, and <a class="el" href="../../d3/d41/db__sqlite_8inc_8php_source.html#l00149">raw_db_list_table_fields_def()</a>.</p>

</div>
</div>
<a id="a60cc7e063480762705dd0f86f9f29f12" name="a60cc7e063480762705dd0f86f9f29f12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60cc7e063480762705dd0f86f9f29f12">&#9670;&#160;</a></span>db_free_result()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_free_result </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$result</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="#a60cc7e063480762705dd0f86f9f29f12">db_free_result()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$result</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool "TRUE" or "FALSE" </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00721">721</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  722</span>{</div>
<div class="line"><span class="lineno">  723</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#af36c34dac03f4abb73c7318588387c4e">raw_db_free_result</a>(<a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>);</div>
<div class="line"><span class="lineno">  724</span>}</div>
<div class="ttc" id="adb__mysql_8inc_8php_html_af36c34dac03f4abb73c7318588387c4e"><div class="ttname"><a href="../../d4/dae/db__mysql_8inc_8php.html#af36c34dac03f4abb73c7318588387c4e">raw_db_free_result</a></div><div class="ttdeci">raw_db_free_result($result)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dae/db__mysql_8inc_8php_source.html#l00307">db_mysql.inc.php:307</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d44/ajax_8apache_8php_source.html#l00014">$result</a>, and <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00307">raw_db_free_result()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00535">db_get_data()</a>, and <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00629">db_get_id()</a>.</p>

</div>
</div>
<a id="a7bd603470b466f5d841634e4f2deb847" name="a7bd603470b466f5d841634e4f2deb847"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bd603470b466f5d841634e4f2deb847">&#9670;&#160;</a></span>db_get_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_get_data </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablename</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$id</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$col</em><span class="paramdefsep"> = </span><span class="paramdefval">null</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$where</em><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$result_type</em><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="../../d4/dae/db__mysql_8inc_8php.html#a7995ec4155465b4e82174c1b9ddc32fc">FETCH_NUM</a></span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$idfield</em><span class="paramdefsep"> = </span><span class="paramdefval">&quot;id&quot;</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$orderby</em><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="#a7bd603470b466f5d841634e4f2deb847">db_get_data()</a></p>
<p>Reads data from table $tablename.</p>
<p>$tablename Table name. If NULL uses the table used in last function call. $id Identifier(s). May be an array or a CSV string $col Column(s) or field(s). May be an array or a CSV string $where Additional WHERE clause $result_type May be FETCH_ASSOC, FETCH_BOTH or FETCH_NUM $idfield Name of id field $orderby Additional ORDER BY clause</p>
<h2><a class="anchor" id="id-----col--------returns"></a>
$id $col returns</h2>
<p>int null array with the whole record $id int str the value of column $col from record $id int str[] array with column values in array $col of record $id int[] null array of arrays with values from all columns of the $id registers int[] str array with the values of column $col from the $id registers int[] str[] 2-D array with the values of columns $col from the $id registers null null array of arrays with the whole table null str array with values of the $col column from the whole table null str[] array of arrays with the values of the columns $col from all table</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"></td><td class="paramname">$tablename</td><td></td></tr>
    <tr><td class="paramtype">unknown</td><td class="paramname">$id</td><td></td></tr>
    <tr><td class="paramtype">unknown</td><td class="paramname">$col</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$where</td><td></td></tr>
    <tr><td class="paramtype">unknown</td><td class="paramname">$result_type</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$idfield</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$orderby</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>result or FALSE </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00535">535</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  536</span>{</div>
<div class="line"><span class="lineno">  537</span>  global $g_lasttable;</div>
<div class="line"><span class="lineno">  538</span> </div>
<div class="line"><span class="lineno">  539</span>  <span class="keywordflow">if</span> (!$tablename)</div>
<div class="line"><span class="lineno">  540</span>    $tablename = $g_lasttable;</div>
<div class="line"><span class="lineno">  541</span>  $g_lasttable = $tablename;</div>
<div class="line"><span class="lineno">  542</span> </div>
<div class="line"><span class="lineno">  543</span>  <span class="keywordflow">if</span> (is_array($col))</div>
<div class="line"><span class="lineno">  544</span>    $col = implode(<span class="stringliteral">&quot;,&quot;</span>, $col);</div>
<div class="line"><span class="lineno">  545</span>  <span class="keywordflow">if</span> ($col === <span class="keyword">null</span> || $col === <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  546</span>    $col = <span class="stringliteral">&quot;*&quot;</span>;</div>
<div class="line"><span class="lineno">  547</span>  <span class="comment">// Build the WHERE clause</span></div>
<div class="line"><span class="lineno">  548</span>  <span class="keywordflow">if</span> ($id !== <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">  549</span>    <span class="keywordflow">if</span> (is_string($id) &amp;&amp; strstr($id, <span class="stringliteral">&quot;,&quot;</span>)) {</div>
<div class="line"><span class="lineno">  550</span>      $id = explode(<span class="stringliteral">&quot;,&quot;</span>, $id);</div>
<div class="line"><span class="lineno">  551</span>    }</div>
<div class="line"><span class="lineno">  552</span>    <span class="keywordflow">if</span> (is_array($id)) {</div>
<div class="line"><span class="lineno">  553</span>      $idcond = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  554</span>      <span class="keywordflow">for</span>($i = 0; $i &lt; count($id); $i++)</div>
<div class="line"><span class="lineno">  555</span>      $idcond .= <span class="stringliteral">&quot;$idfield = &#39;{$id[$i]}&#39;&quot;</span> . ($i &lt; count($id) - 1 ? <span class="stringliteral">&quot; OR &quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  556</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  557</span>      $idcond = <span class="stringliteral">&quot;$idfield = &#39;$id&#39;&quot;</span>;</div>
<div class="line"><span class="lineno">  558</span> </div>
<div class="line"><span class="lineno">  559</span>    $condition = $where ? <span class="stringliteral">&quot; WHERE ($where) AND ($idcond)&quot;</span> : <span class="stringliteral">&quot; WHERE ($idcond)&quot;</span>;</div>
<div class="line"><span class="lineno">  560</span>  } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  561</span>    $condition = $where ? <span class="stringliteral">&quot; WHERE ($where)&quot;</span> : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  562</span> </div>
<div class="line"><span class="lineno">  563</span>  $orderby = $orderby ? <span class="stringliteral">&quot; ORDER BY $orderby&quot;</span> : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  564</span>  <span class="comment">// Do the query</span></div>
<div class="line"><span class="lineno">  565</span>  $sql = <span class="stringliteral">&quot;SELECT $col FROM &quot;</span> . APPPREFIX . $tablename . $condition . $orderby;</div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="line"><span class="lineno">  567</span>  <a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a> = <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#ae7ee32fcd3c828f30353bf217fad9b45">raw_db_query</a>($sql);</div>
<div class="line"><span class="lineno">  568</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>)</div>
<div class="line"><span class="lineno">  569</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  570</span>  <span class="comment">// Loop to build the return array</span></div>
<div class="line"><span class="lineno">  571</span>  $array = array();</div>
<div class="line"><span class="lineno">  572</span>  <span class="keywordflow">while</span> ($row = <a class="code hl_function" href="#ae530fae07afd2611bf93f712d99dfa95">db_fetch_array</a>(<a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>, $result_type)) {</div>
<div class="line"><span class="lineno">  573</span>    <span class="keywordflow">if</span> (count($row) == 1)</div>
<div class="line"><span class="lineno">  574</span>      $row = array_shift($row);</div>
<div class="line"><span class="lineno">  575</span>    $array[] = $row;</div>
<div class="line"><span class="lineno">  576</span>  }</div>
<div class="line"><span class="lineno">  577</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="#a60cc7e063480762705dd0f86f9f29f12">db_free_result</a>(<a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>) === <span class="keyword">false</span>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  578</span>  <span class="comment">// Return the result</span></div>
<div class="line"><span class="lineno">  579</span>  <span class="keywordflow">if</span> (!is_array($array))</div>
<div class="line"><span class="lineno">  580</span>    <span class="keywordflow">return</span> $array;</div>
<div class="line"><span class="lineno">  581</span> </div>
<div class="line"><span class="lineno">  582</span>  <span class="keywordflow">switch</span> (count($array)) {</div>
<div class="line"><span class="lineno">  583</span>    <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno">  584</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  585</span> </div>
<div class="line"><span class="lineno">  586</span>    <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno">  587</span> </div>
<div class="line"><span class="lineno">  588</span>      $test = $array; <span class="comment">// Copy array</span></div>
<div class="line"><span class="lineno">  589</span>      $elem = array_shift($test); <span class="comment">// 1st element of array...</span></div>
<div class="line"><span class="lineno">  590</span>      <span class="keywordflow">if</span> (is_null($elem)) <span class="comment">// ...is it null?</span></div>
<div class="line"><span class="lineno">  591</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// Yes: return null</span></div>
<div class="line"><span class="lineno">  592</span>      <span class="keywordflow">if</span> (is_scalar($elem)) <span class="comment">// ...is it a scalar?</span></div>
<div class="line"><span class="lineno">  593</span>        <span class="keywordflow">return</span> $elem; <span class="comment">// Yes: return the element alone</span></div>
<div class="line"><span class="lineno">  594</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  595</span>        <span class="keywordflow">return</span> $array; <span class="comment">// No: return the whole array</span></div>
<div class="line"><span class="lineno">  596</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  597</span>      <span class="keywordflow">return</span> $array;</div>
<div class="line"><span class="lineno">  598</span>  }</div>
<div class="line"><span class="lineno">  599</span>}</div>
<div class="ttc" id="adb__common_8inc_8php_html_a60cc7e063480762705dd0f86f9f29f12"><div class="ttname"><a href="#a60cc7e063480762705dd0f86f9f29f12">db_free_result</a></div><div class="ttdeci">db_free_result($result)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d92/db__common_8inc_8php_source.html#l00721">db_common.inc.php:721</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d44/ajax_8apache_8php_source.html#l00014">$result</a>, <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00705">db_fetch_array()</a>, <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00721">db_free_result()</a>, and <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00282">raw_db_query()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00612">db_get_index()</a>.</p>

</div>
</div>
<a id="a013284fcfe2e9831d68cd86b793a1d42" name="a013284fcfe2e9831d68cd86b793a1d42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a013284fcfe2e9831d68cd86b793a1d42">&#9670;&#160;</a></span>db_get_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_get_id </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablename</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$index</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$idfield</em><span class="paramdefsep"> = </span><span class="paramdefval">&quot;id&quot;</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="#a013284fcfe2e9831d68cd86b793a1d42">db_get_id()</a></p>
<p>Returns the id of the record indexed by $index</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"></td><td class="paramname">$tablename</td><td></td></tr>
    <tr><td class="paramtype"></td><td class="paramname">$index</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$idfield</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>id or FALSE </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00629">629</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  630</span>{</div>
<div class="line"><span class="lineno">  631</span>  global $g_lasttable;</div>
<div class="line"><span class="lineno">  632</span> </div>
<div class="line"><span class="lineno">  633</span>  <span class="keywordflow">if</span> (!is_scalar($index)) {</div>
<div class="line"><span class="lineno">  634</span>    trigger_error(__FUNCTION__ . <span class="stringliteral">&quot;: index must be an integer&quot;</span>);</div>
<div class="line"><span class="lineno">  635</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  636</span>  } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  637</span>    $index = (int)$index;</div>
<div class="line"><span class="lineno">  638</span> </div>
<div class="line"><span class="lineno">  639</span>  <span class="keywordflow">if</span> (!$tablename)</div>
<div class="line"><span class="lineno">  640</span>    $tablename = $g_lasttable;</div>
<div class="line"><span class="lineno">  641</span>  $g_lasttable = $tablename;</div>
<div class="line"><span class="lineno">  642</span> </div>
<div class="line"><span class="lineno">  643</span>  <span class="comment">// Do the query</span></div>
<div class="line"><span class="lineno">  644</span>  $sql = <span class="stringliteral">&quot;SELECT $idfield FROM &quot;</span> . APPPREFIX . $tablename . <span class="stringliteral">&quot; LIMIT 1 OFFSET $index&quot;</span>;</div>
<div class="line"><span class="lineno">  645</span> </div>
<div class="line"><span class="lineno">  646</span>  <a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a> = <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#ae7ee32fcd3c828f30353bf217fad9b45">raw_db_query</a>($sql);</div>
<div class="line"><span class="lineno">  647</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>)</div>
<div class="line"><span class="lineno">  648</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  649</span> </div>
<div class="line"><span class="lineno">  650</span>  $ret = <a class="code hl_function" href="#ae530fae07afd2611bf93f712d99dfa95">db_fetch_array</a>(<a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>, <a class="code hl_variable" href="../../d4/dae/db__mysql_8inc_8php.html#a7995ec4155465b4e82174c1b9ddc32fc">FETCH_NUM</a>);</div>
<div class="line"><span class="lineno">  651</span> </div>
<div class="line"><span class="lineno">  652</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="#a60cc7e063480762705dd0f86f9f29f12">db_free_result</a>(<a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>) === <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  653</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  654</span> </div>
<div class="line"><span class="lineno">  655</span>  <span class="keywordflow">return</span> $ret[0];</div>
<div class="line"><span class="lineno">  656</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d44/ajax_8apache_8php_source.html#l00014">$result</a>, <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00705">db_fetch_array()</a>, <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00721">db_free_result()</a>, <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00023">FETCH_NUM</a>, and <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00282">raw_db_query()</a>.</p>

</div>
</div>
<a id="aee9b4beb331414bb0a79ff61ce3f9587" name="aee9b4beb331414bb0a79ff61ce3f9587"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee9b4beb331414bb0a79ff61ce3f9587">&#9670;&#160;</a></span>db_get_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_get_index </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablename</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$id</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$idfield</em><span class="paramdefsep"> = </span><span class="paramdefval">&quot;id&quot;</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="#aee9b4beb331414bb0a79ff61ce3f9587">db_get_index()</a></p>
<p>Returns the index of the record identified by $id</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"></td><td class="paramname">$tablename</td><td></td></tr>
    <tr><td class="paramtype"></td><td class="paramname">$id</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$idfield</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>index or FALSE </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00612">612</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  613</span>{</div>
<div class="line"><span class="lineno">  614</span>  $data = <a class="code hl_function" href="#a7bd603470b466f5d841634e4f2deb847">db_get_data</a>($tablename, <span class="keyword">null</span>, $idfield);</div>
<div class="line"><span class="lineno">  615</span>  <span class="keywordflow">return</span> array_search($id, $data);</div>
<div class="line"><span class="lineno">  616</span>}</div>
<div class="ttc" id="adb__common_8inc_8php_html_a7bd603470b466f5d841634e4f2deb847"><div class="ttname"><a href="#a7bd603470b466f5d841634e4f2deb847">db_get_data</a></div><div class="ttdeci">db_get_data($tablename, $id=null, $col=null, $where=&quot;&quot;, $result_type=FETCH_NUM, $idfield=&quot;id&quot;, $orderby=&quot;&quot;)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d92/db__common_8inc_8php_source.html#l00535">db_common.inc.php:535</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00535">db_get_data()</a>.</p>

</div>
</div>
<a id="a3f1807a54a74acfd3014cc5c6ffb6501" name="a3f1807a54a74acfd3014cc5c6ffb6501"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f1807a54a74acfd3014cc5c6ffb6501">&#9670;&#160;</a></span>db_get_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_get_info </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$info</em><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="#a3f1807a54a74acfd3014cc5c6ffb6501">db_get_info()</a> Returns database and wrapper version information</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$what</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00035">35</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   36</span>{</div>
<div class="line"><span class="lineno">   37</span>  <span class="keywordflow">switch</span> (strtolower($info)) {</div>
<div class="line"><span class="lineno">   38</span>    <span class="keywordflow">case</span> <span class="stringliteral">&quot;version&quot;</span>:</div>
<div class="line"><span class="lineno">   39</span>      <span class="keywordflow">return</span> DB_DATABASE . <span class="stringliteral">&quot; &quot;</span> . <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#aa283c7938d012f4ed901c1cea3cd4e4a">raw_get_db_version</a>() . <span class="stringliteral">&quot; with Database Wrapper &quot;</span> . <a class="code hl_variable" href="#a4862ba1e3cd909f934e9994619613c13">DB_WRAPVERSION</a>;</div>
<div class="line"><span class="lineno">   40</span> </div>
<div class="line"><span class="lineno">   41</span>    <span class="keywordflow">case</span> <span class="stringliteral">&quot;dbtype&quot;</span>:</div>
<div class="line"><span class="lineno">   42</span>      <span class="keywordflow">return</span> DB_DATABASE;</div>
<div class="line"><span class="lineno">   43</span> </div>
<div class="line"><span class="lineno">   44</span>    <span class="keywordflow">case</span> <span class="stringliteral">&quot;dbversion&quot;</span>:</div>
<div class="line"><span class="lineno">   45</span>      <span class="keywordflow">return</span> <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#aa283c7938d012f4ed901c1cea3cd4e4a">raw_get_db_version</a>();</div>
<div class="line"><span class="lineno">   46</span> </div>
<div class="line"><span class="lineno">   47</span>    <span class="keywordflow">case</span> <span class="stringliteral">&quot;wrapversion&quot;</span>:</div>
<div class="line"><span class="lineno">   48</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="#a4862ba1e3cd909f934e9994619613c13">DB_WRAPVERSION</a>;</div>
<div class="line"><span class="lineno">   49</span>  }</div>
<div class="line"><span class="lineno">   50</span>}</div>
<div class="ttc" id="adb__common_8inc_8php_html_a4862ba1e3cd909f934e9994619613c13"><div class="ttname"><a href="#a4862ba1e3cd909f934e9994619613c13">DB_WRAPVERSION</a></div><div class="ttdeci">const DB_WRAPVERSION</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d92/db__common_8inc_8php_source.html#l00018">db_common.inc.php:18</a></div></div>
<div class="ttc" id="adb__mysql_8inc_8php_html_aa283c7938d012f4ed901c1cea3cd4e4a"><div class="ttname"><a href="../../d4/dae/db__mysql_8inc_8php.html#aa283c7938d012f4ed901c1cea3cd4e4a">raw_get_db_version</a></div><div class="ttdeci">raw_get_db_version()</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dae/db__mysql_8inc_8php_source.html#l00033">db_mysql.inc.php:33</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00018">DB_WRAPVERSION</a>, and <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00033">raw_get_db_version()</a>.</p>

</div>
</div>
<a id="a14c6dea7a68f757bca21db9b70b5454d" name="a14c6dea7a68f757bca21db9b70b5454d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14c6dea7a68f757bca21db9b70b5454d">&#9670;&#160;</a></span>db_get_next_free_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_get_next_free_id </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablename</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$idfield</em><span class="paramdefsep"> = </span><span class="paramdefval">&quot;id&quot;</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="#a14c6dea7a68f757bca21db9b70b5454d">db_get_next_free_id()</a></p>
<p>Returns the next available id in table $tablename.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"></td><td class="paramname">$tablename</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$idfield</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>id or FALSE </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00667">667</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  668</span>{</div>
<div class="line"><span class="lineno">  669</span>  global $g_current_db;</div>
<div class="line"><span class="lineno">  670</span>  global $g_lasttable;</div>
<div class="line"><span class="lineno">  671</span> </div>
<div class="line"><span class="lineno">  672</span>  <span class="keywordflow">if</span> (!$tablename)</div>
<div class="line"><span class="lineno">  673</span>    $tablename = $g_lasttable;</div>
<div class="line"><span class="lineno">  674</span>  $g_lasttable = $tablename;</div>
<div class="line"><span class="lineno">  675</span> </div>
<div class="line"><span class="lineno">  676</span>  $sql = <span class="stringliteral">&quot;SELECT max($idfield) FROM &quot;</span> . APPPREFIX . $tablename;</div>
<div class="line"><span class="lineno">  677</span>  <a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a> = <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#ae7ee32fcd3c828f30353bf217fad9b45">raw_db_query</a>($sql);</div>
<div class="line"><span class="lineno">  678</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>) {</div>
<div class="line"><span class="lineno">  679</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  680</span>  }</div>
<div class="line"><span class="lineno">  681</span>  $maxid = (<a class="code hl_function" href="#ae530fae07afd2611bf93f712d99dfa95">db_fetch_array</a>(<a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>, <a class="code hl_variable" href="../../d4/dae/db__mysql_8inc_8php.html#a7995ec4155465b4e82174c1b9ddc32fc">FETCH_NUM</a>)) ;</div>
<div class="line"><span class="lineno">  682</span> </div>
<div class="line"><span class="lineno">  683</span>  <span class="keywordflow">return</span> $maxid[0] + 1;</div>
<div class="line"><span class="lineno">  684</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d44/ajax_8apache_8php_source.html#l00014">$result</a>, <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00705">db_fetch_array()</a>, <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00023">FETCH_NUM</a>, and <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00282">raw_db_query()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00457">db_swap_records()</a>.</p>

</div>
</div>
<a id="a70afff13c59953e72dfeb19af325f03a" name="a70afff13c59953e72dfeb19af325f03a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70afff13c59953e72dfeb19af325f03a">&#9670;&#160;</a></span>db_list_database_tables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_list_database_tables </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="#a70afff13c59953e72dfeb19af325f03a">db_list_database_tables()</a> Returns an array with the list of tables of the current database</p>
<dl class="section return"><dt>Returns</dt><dd>result or "FALSE" </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00088">88</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   89</span>{</div>
<div class="line"><span class="lineno">   90</span>  $tables = <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#a78cb3ae2641333ce7bec17b687a8c8bd">raw_db_list_database_tables</a>();</div>
<div class="line"><span class="lineno">   91</span>  <span class="keywordflow">if</span> (!$tables) {</div>
<div class="line"><span class="lineno">   92</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   93</span>  }</div>
<div class="line"><span class="lineno">   94</span>  $tmp_tabs = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">   95</span>  $prefixlen = strlen(trim(APPPREFIX));</div>
<div class="line"><span class="lineno">   96</span>  <span class="keywordflow">if</span> ($prefixlen &gt; 0) {</div>
<div class="line"><span class="lineno">   97</span>    <span class="keywordflow">foreach</span>($tables as $table) {</div>
<div class="line"><span class="lineno">   98</span>      <span class="keywordflow">if</span> (!(stristr(substr($table, 0, $prefixlen), APPPREFIX) === <span class="keyword">false</span>)) {</div>
<div class="line"><span class="lineno">   99</span>        $tmp_tabs[] = substr($table, strlen(APPPREFIX));</div>
<div class="line"><span class="lineno">  100</span>      }</div>
<div class="line"><span class="lineno">  101</span>    }</div>
<div class="line"><span class="lineno">  102</span>    <span class="keywordflow">if</span> ($tmp_tabs == <span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><span class="lineno">  103</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  104</span>    }</div>
<div class="line"><span class="lineno">  105</span>    <span class="keywordflow">return</span> $tmp_tabs;</div>
<div class="line"><span class="lineno">  106</span>  } <span class="keywordflow">else</span> <span class="keywordflow">return</span> $tables;</div>
<div class="line"><span class="lineno">  107</span>}</div>
<div class="ttc" id="adb__mysql_8inc_8php_html_a78cb3ae2641333ce7bec17b687a8c8bd"><div class="ttname"><a href="../../d4/dae/db__mysql_8inc_8php.html#a78cb3ae2641333ce7bec17b687a8c8bd">raw_db_list_database_tables</a></div><div class="ttdeci">raw_db_list_database_tables()</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dae/db__mysql_8inc_8php_source.html#l00106">db_mysql.inc.php:106</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00106">raw_db_list_database_tables()</a>.</p>

</div>
</div>
<a id="a82a238eba2de474aa1ab173ac10f0f49" name="a82a238eba2de474aa1ab173ac10f0f49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82a238eba2de474aa1ab173ac10f0f49">&#9670;&#160;</a></span>db_list_table_fields()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_list_table_fields </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablename</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$type</em><span class="paramdefsep"> = </span><span class="paramdefval">false</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="#a82a238eba2de474aa1ab173ac10f0f49">db_list_table_fields()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$tablename</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array with the names of the fields of table $tablename or FALSE </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00228">228</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  229</span>{</div>
<div class="line"><span class="lineno">  230</span>  global $g_lasttable;</div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span>  <span class="keywordflow">if</span> (!$tablename)</div>
<div class="line"><span class="lineno">  233</span>    $tablename = $g_lasttable;</div>
<div class="line"><span class="lineno">  234</span>  $g_lasttable = $tablename;</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>  <a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a> = <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#a58cd9e1d69cbdfae39b0dbfa12592bc9">raw_db_list_table_fields_def</a>(APPPREFIX . $tablename, $type);</div>
<div class="line"><span class="lineno">  237</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>;</div>
<div class="line"><span class="lineno">  238</span>}</div>
<div class="ttc" id="adb__mysql_8inc_8php_html_a58cd9e1d69cbdfae39b0dbfa12592bc9"><div class="ttname"><a href="../../d4/dae/db__mysql_8inc_8php.html#a58cd9e1d69cbdfae39b0dbfa12592bc9">raw_db_list_table_fields_def</a></div><div class="ttdeci">raw_db_list_table_fields_def($tablename, $type=false)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dae/db__mysql_8inc_8php_source.html#l00177">db_mysql.inc.php:177</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d44/ajax_8apache_8php_source.html#l00014">$result</a>, and <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00177">raw_db_list_table_fields_def()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00304">db_create_record()</a>, and <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00400">db_edit_record()</a>.</p>

</div>
</div>
<a id="ab34bbc980945b9c1d7bf58ea21f573ec" name="ab34bbc980945b9c1d7bf58ea21f573ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab34bbc980945b9c1d7bf58ea21f573ec">&#9670;&#160;</a></span>db_open_database()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_open_database </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$database</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$server</em><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$username</em><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$password</em><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="#ab34bbc980945b9c1d7bf58ea21f573ec">db_open_database()</a> Opens and connects an existing database.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"></td><td class="paramname">$database</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$server</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$password</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>resource or "FALSE" </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00062">62</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   63</span>{</div>
<div class="line"><span class="lineno">   64</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#a2ebb824c481fb452baec49fb5242f8ed">raw_db_open_database</a>($database, $server, $username , $password);</div>
<div class="line"><span class="lineno">   65</span>}</div>
<div class="ttc" id="adb__mysql_8inc_8php_html_a2ebb824c481fb452baec49fb5242f8ed"><div class="ttname"><a href="../../d4/dae/db__mysql_8inc_8php.html#a2ebb824c481fb452baec49fb5242f8ed">raw_db_open_database</a></div><div class="ttdeci">if(DB_WRAPVERSION !=DB_MYSQL_WRAP) raw_db_open_database($database, $server=&quot;&quot;, $username=&quot;&quot;, $password=&quot;&quot;)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dae/db__mysql_8inc_8php_source.html#l00052">db_mysql.inc.php:52</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00052">raw_db_open_database()</a>.</p>

</div>
</div>
<a id="a9e096321b86945d128746ac7bedce8f3" name="a9e096321b86945d128746ac7bedce8f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e096321b86945d128746ac7bedce8f3">&#9670;&#160;</a></span>db_query()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_query </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$query</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>depricated exists only for compatibility to previous version is the same as raw_db_query does not handle APPPREFIX </p>

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00693">693</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  694</span>{</div>
<div class="line"><span class="lineno">  695</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#ae7ee32fcd3c828f30353bf217fad9b45">raw_db_query</a>($query);</div>
<div class="line"><span class="lineno">  696</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00282">raw_db_query()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d41/db__sqlite_8inc_8php_source.html#l00149">raw_db_list_table_fields_def()</a>.</p>

</div>
</div>
<a id="ae1236b83d5ecbebf7a0ff2dac674619e" name="ae1236b83d5ecbebf7a0ff2dac674619e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1236b83d5ecbebf7a0ff2dac674619e">&#9670;&#160;</a></span>db_rename_field()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_rename_field </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablename</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$field</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$newname</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$type</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="#ae1236b83d5ecbebf7a0ff2dac674619e">db_rename_field()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$tablename</td><td></td></tr>
    <tr><td class="paramname">$field</td><td></td></tr>
    <tr><td class="paramname">$newname</td><td></td></tr>
    <tr><td class="paramname">$type</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool "TRUE" or "FALSE" </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00274">274</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  275</span>{</div>
<div class="line"><span class="lineno">  276</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#a6d20c54228781a3699407d3061dce1e6">raw_db_rename_field</a>(APPPREFIX . $tablename, $field, $newname, $type);</div>
<div class="line"><span class="lineno">  277</span>}</div>
<div class="ttc" id="adb__mysql_8inc_8php_html_a6d20c54228781a3699407d3061dce1e6"><div class="ttname"><a href="../../d4/dae/db__mysql_8inc_8php.html#a6d20c54228781a3699407d3061dce1e6">raw_db_rename_field</a></div><div class="ttdeci">raw_db_rename_field($tablename, $field, $newname, $type)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dae/db__mysql_8inc_8php_source.html#l00241">db_mysql.inc.php:241</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00241">raw_db_rename_field()</a>.</p>

</div>
</div>
<a id="a15ceb027c54178332d6646e8ab743507" name="a15ceb027c54178332d6646e8ab743507"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15ceb027c54178332d6646e8ab743507">&#9670;&#160;</a></span>db_rename_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_rename_table </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablename</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$newname</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="#a15ceb027c54178332d6646e8ab743507">db_rename_table()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$tablename</td><td></td></tr>
    <tr><td class="paramname">$newname</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool "TRUE" or "FALSE" </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00218">218</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  219</span>{</div>
<div class="line"><span class="lineno">  220</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#add40311d1c1024feafdbeca9bcd4c78f">raw_db_rename_table</a>(APPPREFIX . $tablename, APPPREFIX . $newname);</div>
<div class="line"><span class="lineno">  221</span>}</div>
<div class="ttc" id="adb__mysql_8inc_8php_html_add40311d1c1024feafdbeca9bcd4c78f"><div class="ttname"><a href="../../d4/dae/db__mysql_8inc_8php.html#add40311d1c1024feafdbeca9bcd4c78f">raw_db_rename_table</a></div><div class="ttdeci">raw_db_rename_table($tablename, $newname)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dae/db__mysql_8inc_8php_source.html#l00157">db_mysql.inc.php:157</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00157">raw_db_rename_table()</a>.</p>

</div>
</div>
<a id="a111b2e22e83336d81be9c2fae45a8adb" name="a111b2e22e83336d81be9c2fae45a8adb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a111b2e22e83336d81be9c2fae45a8adb">&#9670;&#160;</a></span>db_swap_records()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_swap_records </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablename</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$id1</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$id2</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$idfield</em><span class="paramdefsep"> = </span><span class="paramdefval">&quot;id&quot;</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$xchangeid</em><span class="paramdefsep"> = </span><span class="paramdefval">true</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="#a111b2e22e83336d81be9c2fae45a8adb">db_swap_records()</a></p>
<p>Swaps values from two records, including the id field or not according to $xchangeid.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"></td><td class="paramname">$tablename</td><td></td></tr>
    <tr><td class="paramtype"></td><td class="paramname">$id1</td><td></td></tr>
    <tr><td class="paramtype"></td><td class="paramname">$id2</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$idfield</td><td></td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$xchangeid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00457">457</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  458</span>{</div>
<div class="line"><span class="lineno">  459</span>  global $g_lasttable;</div>
<div class="line"><span class="lineno">  460</span>  <span class="comment">// Table name</span></div>
<div class="line"><span class="lineno">  461</span>  <span class="keywordflow">if</span> (!$tablename)</div>
<div class="line"><span class="lineno">  462</span>    $tablename = $g_lasttable;</div>
<div class="line"><span class="lineno">  463</span>  $g_lasttable = $tablename;</div>
<div class="line"><span class="lineno">  464</span>  $table = APPPREFIX . <span class="stringliteral">&quot;$tablename&quot;</span>;</div>
<div class="line"><span class="lineno">  465</span>  <span class="comment">// Build SQL strings</span></div>
<div class="line"><span class="lineno">  466</span>  <a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a> = <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#ae7ee32fcd3c828f30353bf217fad9b45">raw_db_query</a>(<span class="stringliteral">&quot;SELECT * FROM $table WHERE $idfield = $id1&quot;</span>);</div>
<div class="line"><span class="lineno">  467</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>) {</div>
<div class="line"><span class="lineno">  468</span>    trigger_error(__FUNCTION__ . <span class="stringliteral">&quot;: could not read record $id1 in table $tablename.&quot;</span>);</div>
<div class="line"><span class="lineno">  469</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  470</span>  }</div>
<div class="line"><span class="lineno">  471</span>  $a = <a class="code hl_function" href="#ae530fae07afd2611bf93f712d99dfa95">db_fetch_array</a>(<a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>, <a class="code hl_variable" href="../../d4/dae/db__mysql_8inc_8php.html#a8ce33098aa8472004be871503377a577">FETCH_ASSOC</a>);</div>
<div class="line"><span class="lineno">  472</span>  $fieldvalues1 = array_values($a);</div>
<div class="line"><span class="lineno">  473</span>  $fieldnames1 = array_keys($a);</div>
<div class="line"><span class="lineno">  474</span>  array_shift($fieldvalues1);</div>
<div class="line"><span class="lineno">  475</span>  array_shift($fieldnames1);</div>
<div class="line"><span class="lineno">  476</span> </div>
<div class="line"><span class="lineno">  477</span>  <a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a> = <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#ae7ee32fcd3c828f30353bf217fad9b45">raw_db_query</a>(<span class="stringliteral">&quot;SELECT * FROM $table WHERE $idfield = $id2&quot;</span>);</div>
<div class="line"><span class="lineno">  478</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>) {</div>
<div class="line"><span class="lineno">  479</span>    trigger_error(__FUNCTION__ . <span class="stringliteral">&quot;: could not read record $id2 in table $tablename.&quot;</span>);</div>
<div class="line"><span class="lineno">  480</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  481</span>  }</div>
<div class="line"><span class="lineno">  482</span>  $a = <a class="code hl_function" href="#ae530fae07afd2611bf93f712d99dfa95">db_fetch_array</a>(<a class="code hl_variable" href="../../d4/d44/ajax_8apache_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>, <a class="code hl_variable" href="../../d4/dae/db__mysql_8inc_8php.html#a8ce33098aa8472004be871503377a577">FETCH_ASSOC</a>);</div>
<div class="line"><span class="lineno">  483</span>  $fieldvalues2 = array_values($a);</div>
<div class="line"><span class="lineno">  484</span>  $fieldnames2 = array_keys($a);</div>
<div class="line"><span class="lineno">  485</span>  array_shift($fieldvalues2);</div>
<div class="line"><span class="lineno">  486</span>  array_shift($fieldnames2);</div>
<div class="line"><span class="lineno">  487</span>  <span class="comment">// Exchange values</span></div>
<div class="line"><span class="lineno">  488</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="#a3fceaf1354f4886f8e6d9ce79b9f0ce1">db_edit_record</a>($tablename, $id1, $fieldnames2, $fieldvalues2, $idfield) === <span class="keyword">false</span>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  489</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="#a3fceaf1354f4886f8e6d9ce79b9f0ce1">db_edit_record</a>($tablename, $id2, $fieldnames1, $fieldvalues1, $idfield) === <span class="keyword">false</span>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  490</span>  <span class="comment">// Exchange id&#39;s</span></div>
<div class="line"><span class="lineno">  491</span>  <span class="keywordflow">if</span> ($xchangeid) {</div>
<div class="line"><span class="lineno">  492</span>    $unique = <a class="code hl_function" href="#a14c6dea7a68f757bca21db9b70b5454d">db_get_next_free_id</a>($tablename);</div>
<div class="line"><span class="lineno">  493</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="#a3fceaf1354f4886f8e6d9ce79b9f0ce1">db_edit_record</a>($tablename, $id1, array($idfield), array($unique), $idfield) === <span class="keyword">false</span>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  494</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="#a3fceaf1354f4886f8e6d9ce79b9f0ce1">db_edit_record</a>($tablename, $id2, array($idfield), array($id1), $idfield) === <span class="keyword">false</span>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  495</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="#a3fceaf1354f4886f8e6d9ce79b9f0ce1">db_edit_record</a>($tablename, $unique, array($idfield), array($id2), $idfield) === <span class="keyword">false</span>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  496</span>  }</div>
<div class="line"><span class="lineno">  497</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  498</span>}</div>
<div class="ttc" id="adb__common_8inc_8php_html_a14c6dea7a68f757bca21db9b70b5454d"><div class="ttname"><a href="#a14c6dea7a68f757bca21db9b70b5454d">db_get_next_free_id</a></div><div class="ttdeci">db_get_next_free_id($tablename, $idfield=&quot;id&quot;)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d92/db__common_8inc_8php_source.html#l00667">db_common.inc.php:667</a></div></div>
<div class="ttc" id="adb__common_8inc_8php_html_a3fceaf1354f4886f8e6d9ce79b9f0ce1"><div class="ttname"><a href="#a3fceaf1354f4886f8e6d9ce79b9f0ce1">db_edit_record</a></div><div class="ttdeci">db_edit_record($tablename, $id=0, $fieldnames=null, $fieldvalues=null, $idfield=&quot;id&quot;)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d92/db__common_8inc_8php_source.html#l00400">db_common.inc.php:400</a></div></div>
<div class="ttc" id="adb__mysql_8inc_8php_html_a8ce33098aa8472004be871503377a577"><div class="ttname"><a href="../../d4/dae/db__mysql_8inc_8php.html#a8ce33098aa8472004be871503377a577">FETCH_ASSOC</a></div><div class="ttdeci">const FETCH_ASSOC</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dae/db__mysql_8inc_8php_source.html#l00024">db_mysql.inc.php:24</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d44/ajax_8apache_8php_source.html#l00014">$result</a>, <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00400">db_edit_record()</a>, <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00705">db_fetch_array()</a>, <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00667">db_get_next_free_id()</a>, <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00024">FETCH_ASSOC</a>, and <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00282">raw_db_query()</a>.</p>

</div>
</div>
<a id="a8168daf002dcfa31e047895b2d9505f2" name="a8168daf002dcfa31e047895b2d9505f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8168daf002dcfa31e047895b2d9505f2">&#9670;&#160;</a></span>db_table_exists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">db_table_exists </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$tablename</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="#a8168daf002dcfa31e047895b2d9505f2">db_table_exists()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$tablename</td><td>of an opened database </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool "TRUE" if table $tablename exists in the current database </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00124">124</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  125</span>{</div>
<div class="line"><span class="lineno">  126</span>  global $g_lasttable;</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>  <span class="keywordflow">if</span> (!$tablename)</div>
<div class="line"><span class="lineno">  129</span>    $tablename = $g_lasttable;</div>
<div class="line"><span class="lineno">  130</span>  $g_lasttable = $tablename;</div>
<div class="line"><span class="lineno">  131</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="../../d4/dae/db__mysql_8inc_8php.html#aab55a52aafda9212d6b654a5bba5422d">raw_db_table_exists</a>(APPPREFIX . $tablename);</div>
<div class="line"><span class="lineno">  132</span>}</div>
<div class="ttc" id="adb__mysql_8inc_8php_html_aab55a52aafda9212d6b654a5bba5422d"><div class="ttname"><a href="../../d4/dae/db__mysql_8inc_8php.html#aab55a52aafda9212d6b654a5bba5422d">raw_db_table_exists</a></div><div class="ttdeci">raw_db_table_exists($tablename)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dae/db__mysql_8inc_8php_source.html#l00138">db_mysql.inc.php:138</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/dae/db__mysql_8inc_8php_source.html#l00138">raw_db_table_exists()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00144">db_create_table()</a>, and <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00196">db_delete_table()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a1f2cbc875a889e2ec2fc74373e694f8f" name="a1f2cbc875a889e2ec2fc74373e694f8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f2cbc875a889e2ec2fc74373e694f8f">&#9670;&#160;</a></span>$_mainpath</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$_mainpath = pathinfo(__FILE__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00023">23</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>

</div>
</div>
<a id="a4862ba1e3cd909f934e9994619613c13" name="a4862ba1e3cd909f934e9994619613c13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4862ba1e3cd909f934e9994619613c13">&#9670;&#160;</a></span>DB_WRAPVERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const DB_WRAPVERSION &quot;db_v2b&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>WINBINDER - The native Windows binding for PHP for PHP</p>
<p>Copyright  Hypervisual - see LICENSE.TXT for details Authors: Rubem Pechansky and Hans Rebel</p>
<p>Database wrapper functions for <a class="el" href="../../d9/d34/class_win_binder.html">WinBinder</a> version 2b tested with SQLite and mySQL 7.mar </p>

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00018">18</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00035">db_get_info()</a>.</p>

</div>
</div>
<a id="ac6d5cdbd7a39e4195cd96a2fbeaf32ef" name="ac6d5cdbd7a39e4195cd96a2fbeaf32ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6d5cdbd7a39e4195cd96a2fbeaf32ef">&#9670;&#160;</a></span>if</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if(!defined(&quot;DB_DATABASE&quot;)) define(&quot;DB_DATABASE&quot; </td>
          <td>(</td>
          <td class="paramtype">!</td>          <td class="paramname"><span class="paramname"><em>defined</em>&quot;APPPREFIX&quot;</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html#l00020">20</a> of file <a class="el" href="../../d9/d92/db__common_8inc_8php_source.html">db_common.inc.php</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_27ab38579c237fb244627a47d9e58a7b.html">Bearsampp-development</a></li><li class="navelem"><a class="el" href="../../dir_cf2fc36f8b20c127a0d2f4160bea902c.html">sandbox</a></li><li class="navelem"><a class="el" href="../../dir_a3df363a4f70261858f20f2aef9e69f7.html">core</a></li><li class="navelem"><a class="el" href="../../dir_97eb141865a73550254b89b78f5fb068.html">libs</a></li><li class="navelem"><a class="el" href="../../dir_ccdffaff8f99dda21aee566f25957f47.html">winbinder</a></li><li class="navelem"><a class="el" href="../../dir_4c33f9fdd8bdf33f2a0decf83691e085.html">db</a></li><li class="navelem"><a class="el" href="../../d9/d92/db__common_8inc_8php.html">db_common.inc.php</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
